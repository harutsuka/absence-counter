<div id="edit-form-<%= subject.id %>" class="modal">
    <div class="modal-container">
        <div class="modal-content">
            <form id="edit-form-<%= subject.id %>" action="/edit/<%= subject.id %>" method="post" enctype="multipart/form-data">
                <h3>科目情報を編集</h3>
                <span class="close-button" id="closeModal">&times;</span>
                <label for="subject_name">科目名:</label>
                <input type="text" id="subject_name" name="subject_name" value="<%= subject.name %>" required>
                
                <label for="class_count">授業回数:</label>
                <input type="number" id="class_count" name="class_count" min="1" value="<%= subject.class_count %>" required>
                <label for="absent_count">現在の欠席回数:</label>
                <input type="number" id="absent_count" name="absent_count" min="0" value="<%= subject.absent_count %>" required>
                <button type="submit">保存</button>
            </form>
        </div>
    </div>
</div>
 <script>
document.querySelectorAll('.edit-button').forEach(button => {
  button.addEventListener('click', () => {
    const id = button.dataset.id
    document.getElementById(`edit-form-${id}`).style.display = 'block'
  })
})

document.querySelectorAll('.close-button').forEach(button => {
  button.addEventListener('click', () => {
    button.closest('.modal').style.display = 'none'
  })
})

window.addEventListener('click', e => {
  if (e.target.classList.contains('modal')) {
    e.target.style.display = 'none'
  }
})
</script>